
%
% Library Interface macros
%

\ProvidesPackage{vsyntaxrules}

\def\replace#1#2#3{%
 \def\tmp##1#2{##1#3\tmp}%
   \tmp#1\stopreplace#2\stopreplace}
\def\stopreplace#1\stopreplace{}

\newcommand{\libfunction}[3]{
  \def\header{\textbf{#1} \; :: \; \replace{$#2$}{->}{\rightarrow}}
  \colorbox{lightgray}{\rlap{\header}\hspace{\linewidth}\hspace{-2\fboxsep}}
  \\
  \begin{addmargin}[1cm]{0cm}
    #3
  \end{addmargin}
  \vspace{6mm}
  }

\newcommand{\rightassociative}{right-associative}
\newcommand{\leftassociative}{left-associative}
\newcommand{\nonassociative}{non-associative}

\newcommand{\liboperator}[5]{
  \def\header{\textbf{(#1)} \; :: \; \replace{$#4$}{->}{\rightarrow}\hspace{10mm}{\normalfont $|$ #2, priority #3 $|$}}
  \colorbox{lightgray}{\rlap{\textbf{\header}}\hspace{\linewidth}\hspace{-2\fboxsep}}
  \\
  \begin{addmargin}[1cm]{0cm}
    #5
  \end{addmargin}
  \vspace{6mm}
  }
